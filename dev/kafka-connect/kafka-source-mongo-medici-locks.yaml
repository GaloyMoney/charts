apiVersion: kafka.strimzi.io/v1beta2
kind: KafkaConnector
metadata:
  name: kafka-source-mongo-medici-locks
  namespace: galoy-dev-kafka
  labels:
    strimzi.io/cluster: kafka
spec:
  class: com.mongodb.kafka.connect.MongoSourceConnector
  tasksMax: 1
  config:
    startup.mode: copy_existing
    connection.uri: {{ MONGODB_CONNECTION_URI }}
    topic.prefix: mongodb
    database: galoy
    topic.separator: "_"
    collection: medici_locks
    output.format.key: schema
    output.format.value: schema
    output.schema.infer.value: true
    key.converter.schemas.enable: true
    value.converter.schemas.enable: true
    key.converter: org.apache.kafka.connect.json.JsonConverter
    value.converter: org.apache.kafka.connect.json.JsonConverter
